{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Edit "{{ book['title'] }}"{% endblock %}</h1>
{% endblock %}

{% block content %}
    <form method="post">
        <label for="title">Title</label>
        <input name="title" id="title" value="{{request.form['title'] or book['title'] }}" required>
        <label for="author">Author</label>
        <input name="author" id="author" value="{{request.form['author'] or book['author'] }}" required>
        <label for="genre">Genre</label>
        <select name="genre" id="genre">
            {% for genre in genres %}
                {% if book.genre == genre.id %}
                    <option value="{{genre['id']}}" selected>{{ genre['title'] }}</option>
                {% else %}
                    <option value="{{genre['id']}}">{{ genre['title'] }}</option>
                {% endif %}
            {% endfor %}
        </select>
        <br>
        <label for="image_url">Image Link</label>
        <input name="image_url" id="image_url" value="{{request.form['image_url'] or book['image_url'] }}">
        <input type="submit" value="Save">
    </form>
    <hr>
    <form action="{{ url_for('book.delete', id=book['id']) }}" method="post">
        <input class="danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');">
    </form>
{% endblock %}